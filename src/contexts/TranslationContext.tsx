
import React, { createContext, useContext, useState, ReactNode } from 'react';

type Language = 'en' | 'pt';

interface TranslationContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const translations = {
  en: {
    // Navigation
    'nav.dashboard': 'Dashboard',
    'nav.clients': 'Clients',
    'nav.cashflow': 'Cashflow',
    'nav.transactions': 'Transactions',
    'nav.accounts': 'Accounts',
    'nav.categories': 'Categories',
    'nav.costCenters': 'Cost Centers',
    'nav.partners': 'Partners',
    'nav.invoices': 'Invoices',
    'nav.settings': 'Settings',
    'nav.logout': 'Logout',
    
    // Common
    'common.client': 'Client',
    'common.selectClient': 'Select a client',
    'common.add': 'Add',
    'common.edit': 'Edit',
    'common.delete': 'Delete',
    'common.cancel': 'Cancel',
    'common.save': 'Save',
    'common.create': 'Create',
    'common.update': 'Update',
    'common.name': 'Name',
    'common.description': 'Description',
    'common.type': 'Type',
    'common.status': 'Status',
    'common.actions': 'Actions',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.export': 'Export',
    'common.import': 'Import',
    'common.upload': 'Upload CSV',
    'common.downloadTemplate': 'Download Template',
    'common.date': 'Date',
    'common.amount': 'Amount',
    
    // Forms
    'form.required': 'This field is required',
    'form.selectType': 'Select type',
    'form.enterName': 'Enter name',
    'form.enterDescription': 'Enter description',
    'form.optional': 'Optional',
    
    // Dashboard
    'dashboard.title': 'Dashboard',
    'dashboard.subtitle': 'Overview of your',
    'dashboard.clientsAndBusiness': 'clients and business',
    'dashboard.financialMetrics': 'financial metrics',
    'dashboard.addClient': 'Add Client',
    'dashboard.newTransaction': 'New Transaction',
    'dashboard.totalClients': 'Total Clients',
    'dashboard.activeProjects': 'Active Projects',
    'dashboard.monthlyRevenue': 'Monthly Revenue',
    'dashboard.clientRetention': 'Client Retention',
    'dashboard.cashBalance': 'Cash Balance',
    'dashboard.monthlyIncome': 'Monthly Income',
    'dashboard.monthlyExpenses': 'Monthly Expenses',
    'dashboard.netProfit': 'Net Profit',
    'dashboard.revenueOverview': 'Revenue Overview',
    'dashboard.cashFlowOverview': 'Cash Flow Overview',
    'dashboard.clientIndustryDistribution': 'Client Industry Distribution',
    'dashboard.expenseCategories': 'Expense Categories',
    'dashboard.recentClientActivity': 'Recent Client Activity',
    'dashboard.recentTransactions': 'Recent Transactions',
    'dashboard.viewDetails': 'View Details',
    'dashboard.viewAll': 'View All',
    'dashboard.view': 'View',
    'dashboard.updatedTaxDocuments': 'Updated tax documents',
    'dashboard.addedNewTransactionRecords': 'Added new transaction records',
    'dashboard.requestedFinancialReport': 'Requested financial report',
    'dashboard.officeSupplies': 'Office Supplies',
    'dashboard.clientPayment': 'Client Payment',
    'dashboard.utilitiesBill': 'Utilities Bill',
    'dashboard.officeDepot': 'Office Depot',
    'dashboard.techSolutionsInc': 'Tech Solutions Inc.',
    'dashboard.cityPowerCo': 'City Power Co.',
    
    // Transactions
    'transactions.title': 'Transactions',
    'transactions.subtitle': 'View and manage all financial transactions',
    'transactions.addTransaction': 'Add Transaction',
    'transactions.importCSV': 'Import CSV',
    'transactions.allTransactions': 'All Transactions',
    'transactions.income': 'Income',
    'transactions.expenses': 'Expenses',
    'transactions.moreFilters': 'More Filters',
    'transactions.transactionHistory': 'Transaction History',
    'transactions.showingTransactions': 'Showing {count} transactions',
    'transactions.manualEntry': 'Manual Entry',
    'transactions.uploadCSV': 'Upload CSV',
    'transactions.importTransactionsFromCSV': 'Import Transactions from CSV',
    'transactions.viewDetails': 'View Details',
    'transactions.editTransaction': 'Edit Transaction',
    'transactions.deleteTransaction': 'Delete Transaction',
    'transactions.completed': 'Completed',
    'transactions.pending': 'Pending',
    'transactions.category': 'Category',
    'transactions.account': 'Account',
    
    // Accounts
    'accounts.title': 'Accounts',
    'accounts.subtitle': 'Manage your financial accounts',
    'accounts.addAccount': 'Add Account',
    'accounts.totalAssets': 'Total Assets',
    'accounts.totalLiabilities': 'Total Liabilities',
    'accounts.netWorth': 'Net Worth',
    'accounts.sumOfAllPositiveBalances': 'Sum of all positive balances',
    'accounts.sumOfAllNegativeBalances': 'Sum of all negative balances',
    'accounts.assetsMinusLiabilities': 'Assets minus Liabilities',
    'accounts.fromLastMonth': 'from last month',
    'accounts.searchAccounts': 'Search accounts...',
    'accounts.viewTransactions': 'View Transactions',
    'accounts.manage': 'Manage',
    'accounts.active': 'Active',
    'accounts.addNewAccount': 'Add New Account',
    'accounts.accountName': 'Name',
    'accounts.accountType': 'Type',
    'accounts.institution': 'Institution',
    'accounts.balance': 'Balance',
    'accounts.currency': 'Currency',
    'accounts.checking': 'Checking',
    'accounts.savings': 'Savings',
    'accounts.credit': 'Credit Card',
    'accounts.investment': 'Investment',
    'accounts.cash': 'Cash',
    'accounts.selectAccountType': 'Select account type',
    'accounts.enterInstitution': 'e.g. Bank of America',
    'accounts.selectCurrency': 'Select currency',
    'accounts.usd': 'USD - US Dollar',
    'accounts.eur': 'EUR - Euro',
    'accounts.gbp': 'GBP - British Pound',
    'accounts.cad': 'CAD - Canadian Dollar',
    'accounts.account': 'Account',
    
    // Categories
    'categories.title': 'Categories',
    'categories.subtitle': 'Manage your income and expense categories',
    'categories.add': 'Add Category',
    'categories.edit': 'Edit Category',
    'categories.create': 'Create Category',
    'categories.update': 'Update Category',
    'categories.name': 'Category Name',
    'categories.income': 'Income',
    'categories.expense': 'Expense',
    'categories.total': 'Total Categories',
    'categories.incomeCount': 'Income Categories',
    'categories.expenseCount': 'Expense Categories',
    'categories.selectClient': 'Please select a client to view categories',
    
    // Cost Centers
    'costCenters.title': 'Cost Centers',
    'costCenters.subtitle': 'Manage your cost centers',
    'costCenters.add': 'Add Cost Center',
    'costCenters.edit': 'Edit Cost Center',
    'costCenters.create': 'Create Cost Center',
    'costCenters.update': 'Update Cost Center',
    'costCenters.name': 'Cost Center Name',
    'costCenters.total': 'Total Cost Centers',
    'costCenters.active': 'Active',
    'costCenters.inactive': 'Inactive',
    'costCenters.selectClient': 'Please select a client to view cost centers',
    
    // Partners
    'partners.title': 'Partners',
    'partners.subtitle': 'Manage your business partners',
    'partners.add': 'Add Partner',
    'partners.edit': 'Edit Partner',
    'partners.create': 'Create Partner',
    'partners.update': 'Update Partner',
    'partners.name': 'Partner Name',
    'partners.email': 'Email',
    'partners.phone': 'Phone',
    'partners.address': 'Address',
    'partners.total': 'Total Partners',
    'partners.customers': 'Customers',
    'partners.suppliers': 'Suppliers',
    'partners.selectClient': 'Please select a client to view partners',
    'partners.customer': 'Customer',
    'partners.supplier': 'Supplier',
    
    // Invoices
    'invoices.title': 'Invoices',
    'invoices.subtitle': 'Manage your invoices',
    'invoices.add': 'Add Invoice',
    'invoices.edit': 'Edit Invoice',
    'invoices.create': 'Create Invoice',
    'invoices.update': 'Update Invoice',
    'invoices.number': 'Invoice Number',
    'invoices.amount': 'Amount',
    'invoices.date': 'Date',
    'invoices.dueDate': 'Due Date',
    'invoices.client': 'Client',
    'invoices.total': 'Total Invoices',
    'invoices.pending': 'Pending',
    'invoices.paid': 'Paid',
    'invoices.overdue': 'Overdue',
    'invoices.selectClient': 'Please select a client to view invoices',
    'invoices.manageClientInvoices': 'Manage your client invoices',
    'invoices.allInvoices': 'All invoices',
    'invoices.totalInvoiceValue': 'Total invoice value',
    'invoices.successfullyPaid': 'Successfully paid',
    'invoices.needsAttention': 'Needs attention',
    'invoices.ofTotal': 'of total',
    'invoices.searchInvoices': 'Search invoices...',
    'invoices.editInvoice': 'Edit Invoice',
    'invoices.addNewInvoice': 'Add New Invoice',
    'invoices.uploadInvoicesCSV': 'Upload Invoices CSV',
    'invoices.draft': 'Draft',
    'invoices.sent': 'Sent',
    
    // Language
    'language.toggle': 'Language',
    'language.english': 'English',
    'language.portuguese': 'Portuguese',
    
    // Toast messages
    'toast.loggedOut': 'Logged out successfully',
    'toast.loggedOutDesc': 'You have been logged out of your account.',
    'toast.transactionAdded': 'Transaction added',
    'toast.transactionAddedDesc': 'The transaction has been added successfully.',
    'toast.transactionDeleted': 'Transaction deleted',
    'toast.transactionDeletedDesc': 'The transaction has been removed successfully.',
    'toast.csvUploaded': 'CSV uploaded',
    'toast.csvUploadedDesc': 'The transactions have been imported successfully.',
    'toast.accountAdded': 'Account added',
    'toast.accountAddedDesc': 'The new account has been added successfully.',
    'toast.invoiceCreated': 'Invoice created',
    'toast.invoiceCreatedDesc': 'The new invoice has been successfully created.',
    'toast.invoiceUpdated': 'Invoice updated',
    'toast.invoiceUpdatedDesc': 'The invoice has been successfully updated.',
    'toast.invoiceDeleted': 'Invoice deleted',
    'toast.invoiceDeletedDesc': 'The invoice has been successfully deleted.',
    'toast.invoicesImported': 'Invoices imported',
    'toast.invoicesImportedDesc': '{count} invoices have been successfully imported from CSV.',
  },
  pt: {
    // Navigation
    'nav.dashboard': 'Painel',
    'nav.clients': 'Clientes',
    'nav.cashflow': 'Fluxo de Caixa',
    'nav.transactions': 'Transações',
    'nav.accounts': 'Contas',
    'nav.categories': 'Categorias',
    'nav.costCenters': 'Centros de Custo',
    'nav.partners': 'Parceiros',
    'nav.invoices': 'Faturas',
    'nav.settings': 'Configurações',
    'nav.logout': 'Sair',
    
    // Common
    'common.client': 'Cliente',
    'common.selectClient': 'Selecionar um cliente',
    'common.add': 'Adicionar',
    'common.edit': 'Editar',
    'common.delete': 'Excluir',
    'common.cancel': 'Cancelar',
    'common.save': 'Salvar',
    'common.create': 'Criar',
    'common.update': 'Atualizar',
    'common.name': 'Nome',
    'common.description': 'Descrição',
    'common.type': 'Tipo',
    'common.status': 'Status',
    'common.actions': 'Ações',
    'common.search': 'Pesquisar',
    'common.filter': 'Filtrar',
    'common.export': 'Exportar',
    'common.import': 'Importar',
    'common.upload': 'Carregar CSV',
    'common.downloadTemplate': 'Baixar Modelo',
    'common.date': 'Data',
    'common.amount': 'Valor',
    
    // Forms
    'form.required': 'Este campo é obrigatório',
    'form.selectType': 'Selecionar tipo',
    'form.enterName': 'Digite o nome',
    'form.enterDescription': 'Digite a descrição',
    'form.optional': 'Opcional',
    
    // Dashboard
    'dashboard.title': 'Painel',
    'dashboard.subtitle': 'Visão geral dos seus',
    'dashboard.clientsAndBusiness': 'clientes e negócios',
    'dashboard.financialMetrics': 'métricas financeiras',
    'dashboard.addClient': 'Adicionar Cliente',
    'dashboard.newTransaction': 'Nova Transação',
    'dashboard.totalClients': 'Total de Clientes',
    'dashboard.activeProjects': 'Projetos Ativos',
    'dashboard.monthlyRevenue': 'Receita Mensal',
    'dashboard.clientRetention': 'Retenção de Clientes',
    'dashboard.cashBalance': 'Saldo em Caixa',
    'dashboard.monthlyIncome': 'Receita Mensal',
    'dashboard.monthlyExpenses': 'Despesas Mensais',
    'dashboard.netProfit': 'Lucro Líquido',
    'dashboard.revenueOverview': 'Visão Geral da Receita',
    'dashboard.cashFlowOverview': 'Visão Geral do Fluxo de Caixa',
    'dashboard.clientIndustryDistribution': 'Distribuição por Setor dos Clientes',
    'dashboard.expenseCategories': 'Categorias de Despesas',
    'dashboard.recentClientActivity': 'Atividade Recente dos Clientes',
    'dashboard.recentTransactions': 'Transações Recentes',
    'dashboard.viewDetails': 'Ver Detalhes',
    'dashboard.viewAll': 'Ver Todos',
    'dashboard.view': 'Ver',
    'dashboard.updatedTaxDocuments': 'Documentos fiscais atualizados',
    'dashboard.addedNewTransactionRecords': 'Adicionados novos registros de transação',
    'dashboard.requestedFinancialReport': 'Solicitado relatório financeiro',
    'dashboard.officeSupplies': 'Material de Escritório',
    'dashboard.clientPayment': 'Pagamento do Cliente',
    'dashboard.utilitiesBill': 'Conta de Serviços Públicos',
    'dashboard.officeDepot': 'Office Depot',
    'dashboard.techSolutionsInc': 'Tech Solutions Inc.',
    'dashboard.cityPowerCo': 'City Power Co.',
    
    // Transactions
    'transactions.title': 'Transações',
    'transactions.subtitle': 'Visualizar e gerenciar todas as transações financeiras',
    'transactions.addTransaction': 'Adicionar Transação',
    'transactions.importCSV': 'Importar CSV',
    'transactions.allTransactions': 'Todas as Transações',
    'transactions.income': 'Receita',
    'transactions.expenses': 'Despesas',
    'transactions.moreFilters': 'Mais Filtros',
    'transactions.transactionHistory': 'Histórico de Transações',
    'transactions.showingTransactions': 'Mostrando {count} transações',
    'transactions.manualEntry': 'Entrada Manual',
    'transactions.uploadCSV': 'Carregar CSV',
    'transactions.importTransactionsFromCSV': 'Importar Transações de CSV',
    'transactions.viewDetails': 'Ver Detalhes',
    'transactions.editTransaction': 'Editar Transação',
    'transactions.deleteTransaction': 'Excluir Transação',
    'transactions.completed': 'Concluída',
    'transactions.pending': 'Pendente',
    'transactions.category': 'Categoria',
    'transactions.account': 'Conta',
    
    // Accounts
    'accounts.title': 'Contas',
    'accounts.subtitle': 'Gerencie suas contas financeiras',
    'accounts.addAccount': 'Adicionar Conta',
    'accounts.totalAssets': 'Total de Ativos',
    'accounts.totalLiabilities': 'Total de Passivos',
    'accounts.netWorth': 'Patrimônio Líquido',
    'accounts.sumOfAllPositiveBalances': 'Soma de todos os saldos positivos',
    'accounts.sumOfAllNegativeBalances': 'Soma de todos os saldos negativos',
    'accounts.assetsMinusLiabilities': 'Ativos menos Passivos',
    'accounts.fromLastMonth': 'do mês passado',
    'accounts.searchAccounts': 'Pesquisar contas...',
    'accounts.viewTransactions': 'Ver Transações',
    'accounts.manage': 'Gerenciar',
    'accounts.active': 'Ativa',
    'accounts.addNewAccount': 'Adicionar Nova Conta',
    'accounts.accountName': 'Nome',
    'accounts.accountType': 'Tipo',
    'accounts.institution': 'Instituição',
    'accounts.balance': 'Saldo',
    'accounts.currency': 'Moeda',
    'accounts.checking': 'Conta Corrente',
    'accounts.savings': 'Poupança',
    'accounts.credit': 'Cartão de Crédito',
    'accounts.investment': 'Investimento',
    'accounts.cash': 'Dinheiro',
    'accounts.selectAccountType': 'Selecionar tipo de conta',
    'accounts.enterInstitution': 'ex: Banco do Brasil',
    'accounts.selectCurrency': 'Selecionar moeda',
    'accounts.usd': 'USD - Dólar Americano',
    'accounts.eur': 'EUR - Euro',
    'accounts.gbp': 'GBP - Libra Esterlina',
    'accounts.cad': 'CAD - Dólar Canadense',
    'accounts.account': 'Conta',
    
    // Categories
    'categories.title': 'Categorias',
    'categories.subtitle': 'Gerencie suas categorias de receita e despesa',
    'categories.add': 'Adicionar Categoria',
    'categories.edit': 'Editar Categoria',
    'categories.create': 'Criar Categoria',
    'categories.update': 'Atualizar Categoria',
    'categories.name': 'Nome da Categoria',
    'categories.income': 'Receita',
    'categories.expense': 'Despesa',
    'categories.total': 'Total de Categorias',
    'categories.incomeCount': 'Categorias de Receita',
    'categories.expenseCount': 'Categorias de Despesa',
    'categories.selectClient': 'Por favor, selecione um cliente para ver as categorias',
    
    // Cost Centers
    'costCenters.title': 'Centros de Custo',
    'costCenters.subtitle': 'Gerencie seus centros de custo',
    'costCenters.add': 'Adicionar Centro de Custo',
    'costCenters.edit': 'Editar Centro de Custo',
    'costCenters.create': 'Criar Centro de Custo',
    'costCenters.update': 'Atualizar Centro de Custo',
    'costCenters.name': 'Nome do Centro de Custo',
    'costCenters.total': 'Total de Centros de Custo',
    'costCenters.active': 'Ativo',
    'costCenters.inactive': 'Inativo',
    'costCenters.selectClient': 'Por favor, selecione um cliente para ver os centros de custo',
    
    // Partners
    'partners.title': 'Parceiros',
    'partners.subtitle': 'Gerencie seus parceiros de negócios',
    'partners.add': 'Adicionar Parceiro',
    'partners.edit': 'Editar Parceiro',
    'partners.create': 'Criar Parceiro',
    'partners.update': 'Atualizar Parceiro',
    'partners.name': 'Nome do Parceiro',
    'partners.email': 'Email',
    'partners.phone': 'Telefone',
    'partners.address': 'Endereço',
    'partners.total': 'Total de Parceiros',
    'partners.customers': 'Clientes',
    'partners.suppliers': 'Fornecedores',
    'partners.selectClient': 'Por favor, selecione um cliente para ver os parceiros',
    'partners.customer': 'Cliente',
    'partners.supplier': 'Fornecedor',
    
    // Invoices
    'invoices.title': 'Faturas',
    'invoices.subtitle': 'Gerencie suas faturas',
    'invoices.add': 'Adicionar Fatura',
    'invoices.edit': 'Editar Fatura',
    'invoices.create': 'Criar Fatura',
    'invoices.update': 'Atualizar Fatura',
    'invoices.number': 'Número da Fatura',
    'invoices.amount': 'Valor',
    'invoices.date': 'Data',
    'invoices.dueDate': 'Data de Vencimento',
    'invoices.client': 'Cliente',
    'invoices.total': 'Total de Faturas',
    'invoices.pending': 'Pendente',
    'invoices.paid': 'Pago',
    'invoices.overdue': 'Vencido',
    'invoices.selectClient': 'Por favor, selecione um cliente para ver as faturas',
    'invoices.manageClientInvoices': 'Gerencie suas faturas de clientes',
    'invoices.allInvoices': 'Todas as faturas',
    'invoices.totalInvoiceValue': 'Valor total das faturas',
    'invoices.successfullyPaid': 'Pagas com sucesso',
    'invoices.needsAttention': 'Requer atenção',
    'invoices.ofTotal': 'do total',
    'invoices.searchInvoices': 'Pesquisar faturas...',
    'invoices.editInvoice': 'Editar Fatura',
    'invoices.addNewInvoice': 'Adicionar Nova Fatura',
    'invoices.uploadInvoicesCSV': 'Carregar CSV de Faturas',
    'invoices.draft': 'Rascunho',
    'invoices.sent': 'Enviada',
    
    // Language
    'language.toggle': 'Idioma',
    'language.english': 'Inglês',
    'language.portuguese': 'Português',
    
    // Toast messages
    'toast.loggedOut': 'Deslogado com sucesso',
    'toast.loggedOutDesc': 'Você foi deslogado da sua conta.',
    'toast.transactionAdded': 'Transação adicionada',
    'toast.transactionAddedDesc': 'A transação foi adicionada com sucesso.',
    'toast.transactionDeleted': 'Transação excluída',
    'toast.transactionDeletedDesc': 'A transação foi removida com sucesso.',
    'toast.csvUploaded': 'CSV carregado',
    'toast.csvUploadedDesc': 'As transações foram importadas com sucesso.',
    'toast.accountAdded': 'Conta adicionada',
    'toast.accountAddedDesc': 'A nova conta foi adicionada com sucesso.',
    'toast.invoiceCreated': 'Fatura criada',
    'toast.invoiceCreatedDesc': 'A nova fatura foi criada com sucesso.',
    'toast.invoiceUpdated': 'Fatura atualizada',
    'toast.invoiceUpdatedDesc': 'A fatura foi atualizada com sucesso.',
    'toast.invoiceDeleted': 'Fatura excluída',
    'toast.invoiceDeletedDesc': 'A fatura foi excluída com sucesso.',
    'toast.invoicesImported': 'Faturas importadas',
    'toast.invoicesImportedDesc': '{count} faturas foram importadas com sucesso do CSV.',
  },
};

const TranslationContext = createContext<TranslationContextType | undefined>(undefined);

export function TranslationProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState<Language>('en');

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <TranslationContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </TranslationContext.Provider>
  );
}

export function useTranslation() {
  const context = useContext(TranslationContext);
  if (context === undefined) {
    throw new Error('useTranslation must be used within a TranslationProvider');
  }
  return context;
}
